<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Still With You ü§ç</title>

<style>
body{
  margin:0;
  font-family:sans-serif;
  background: radial-gradient(circle at 50% 30%, 
              #ffd6e8 0%, 
              #ffb6d5 40%, 
              #ff8fc4 70%, 
              #e754a6 100%);
  color:white;
  text-align:center;
  overflow:hidden;
}

/* Glow lembut di tengah */
body::after{
  content:"";
  position:fixed;
  inset:0;
  background: radial-gradient(circle at 50% 50%, 
              rgba(255,255,255,0.2), 
              transparent 60%);
  pointer-events:none;
}

/* DREAMY HEART BACKGROUND */
.hearts{
  position:fixed;
  width:100%;
  height:100%;
  overflow:hidden;
  z-index:0;
  pointer-events:none;
}

.heart{
  position:absolute;
  color:white;
  opacity:0.6;
  animation: float linear infinite;
}

@keyframes float{
  from{transform:translateY(110vh) scale(1);}
  to{transform:translateY(-10vh) scale(1.2);}
}

/* SECTIONS */
#opening, #ending{
  height:100vh;
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  position:relative;
  z-index:2;
}

#main{
  display:none;
  padding:20px;
  position:relative;
  z-index:2;
}

img{
  width:260px;
  height:260px;
  object-fit:cover;
  border-radius:50%;
  margin-top:40px;
  opacity:0;
  transition:opacity 1.5s ease, transform 16s ease;
  box-shadow:0 0 40px rgba(255,255,255,0.6);
}

#text{
  max-width:500px;
  margin:auto;
  line-height:1.8;
  margin-top:25px;
  white-space:pre-line;
  background:rgba(0,0,0,0.4);
  padding:20px;
  border-radius:20px;
  backdrop-filter:blur(6px);
}

button{
  padding:12px 28px;
  border:none;
  border-radius:25px;
  margin-top:20px;
  font-weight:bold;
  cursor:pointer;
}

#ending{
  display:none;
  background:black;
}

.glow{
  animation: glowEffect 2s ease forwards;
}

@keyframes glowEffect{
  from{opacity:0; text-shadow:0 0 0px white;}
  to{opacity:1; text-shadow:0 0 20px white, 0 0 40px white;}
}
</style>
</head>

<body>

<div class="hearts" id="hearts"></div>

<div id="opening">
  <h2>Before you press start‚Ä¶ ü§ç</h2>
  <button onclick="startShow()">Ready?</button>
</div>

<div id="main">
  <img id="photo">
  <div id="text"></div>
</div>

<div id="ending">
  <h1 id="finalLine">Still with you.<br>Always.</h1>
  <button onclick="secret()" id="secretBtn" style="display:none;">
    One more thing‚Ä¶
  </button>
</div>

<audio id="music" src="lagu.mp3"></audio>

<script>
const photos=["foto1.jpg","foto2.jpg","foto3.jpg","foto4.jpg","foto5.jpg"];

const texts=[
`first,
terima kasih ya sayang sudah menemani setiap suka-duka kehidupan aku.
lewat hal-hal kecil yang bahkan aku sendiri nggak sadar,
ternyata selalu ada kamu di dalamnya.`,

`mungkin kelihatan nggak bermakna ya?
tapi serius‚Ä¶
hari ini bukan sekadar hari kasih sayang.
ini hari yang aku tunggu-tunggu
karena semesta pernah baik banget ngenalin aku ke kamu.`,

`aku ngerayain kesabaran kamu.
cara kamu stay even when things aren't easy.
cara kamu hadir tanpa banyak janji,
tapi selalu nyata.`,

`being with you taught me
that love doesn't have to be loud.
sometimes it's quiet.
warm.
and steady.
like you holding my hand without saying anything,
but somehow everything feels okay.`,

`so today, i celebrate you.
i celebrate us.
not just on valentine,
but on every ordinary day that turns special
just because you're there.

thank you for choosing me.
for staying.
for loving me in ways
i never knew i needed this much.`
];

let index=0;
let interval;
let typingTimeout;

/* CREATE HEARTS */
function createHearts(){
  const container=document.getElementById("hearts");
  for(let i=0;i<40;i++){
    const heart=document.createElement("div");
    heart.className="heart";
    heart.innerHTML="‚ô°";
    heart.style.left=Math.random()*100+"%";
    heart.style.fontSize=(12+Math.random()*18)+"px";
    heart.style.animationDuration=(8+Math.random()*8)+"s";
    heart.style.opacity=Math.random()*0.6;
    container.appendChild(heart);
  }
}
createHearts();

function startShow(){
  document.getElementById("opening").style.display="none";
  document.getElementById("main").style.display="block";
  fadeInMusic();
  showSlide();
  interval=setInterval(showSlide,16500);
}

function showSlide(){
  if(index>=photos.length){
    clearInterval(interval);
    fadeOutMusic();
    document.getElementById("main").style.display="none";
    showEnding();
    return;
  }

  const img=document.getElementById("photo");
  const textEl=document.getElementById("text");

  clearTimeout(typingTimeout);
  textEl.innerHTML="";
  img.style.opacity=0;

  setTimeout(()=>{
    img.src=photos[index];
    img.style.transform="scale(1.08)";
    img.style.opacity=1;
    typeWriter(texts[index],textEl);
    index++;
  },500);
}

function typeWriter(text,element){
  let i=0;
  function typing(){
    if(i<text.length){
      element.innerHTML+=text.charAt(i);
      i++;
      typingTimeout=setTimeout(typing,30);
    }
  }
  typing();
}

function fadeInMusic(){
  const music=document.getElementById("music");
  music.volume=0;
  music.play().catch(()=>{});
  let fade=setInterval(()=>{
    if(music.volume<1){
      music.volume+=0.05;
    } else clearInterval(fade);
  },200);
}

function fadeOutMusic(){
  const music=document.getElementById("music");
  let fade=setInterval(()=>{
    if(music.volume>0){
      music.volume-=0.05;
    } else {
      music.pause();
      clearInterval(fade);
    }
  },200);
}

function showEnding(){
  const ending=document.getElementById("ending");
  ending.style.display="flex";

  const finalLine=document.getElementById("finalLine");
  finalLine.classList.add("glow");

  setTimeout(()=>{
    document.getElementById("secretBtn").style.display="block";
  },4000);
}

function secret(){
  document.getElementById("ending").innerHTML=
  "<h1 class='glow'>Thank you for being my home ü§ç</h1>";
}
</script>

</body>
</html>
