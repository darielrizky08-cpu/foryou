<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Still With You ü§ç</title>

<style>
body{
  margin:0;
  font-family:sans-serif;
  background:radial-gradient(circle at 50% 20%, #ffd6e8, #e89bb8 60%, #8c4f74);
  color:white;
  text-align:center;
  overflow:hidden;
}

/* Opening & Ending */
#opening, #ending{
  height:100vh;
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
}

/* Main Slide */
#main{
  display:none;
  padding:20px;
}

img{
  width:260px;
  height:260px;
  object-fit:cover;
  border-radius:50%;
  margin-top:40px;
  opacity:0;
  transition:opacity 1.5s ease, transform 16s ease;
  box-shadow:0 0 40px rgba(255,255,255,0.5);
}

#text{
  max-width:500px;
  margin:auto;
  line-height:1.8;
  margin-top:25px;
  white-space:pre-line;
  background:rgba(0,0,0,0.4);
  padding:20px;
  border-radius:20px;
  backdrop-filter:blur(6px);
}

button{
  padding:12px 28px;
  border:none;
  border-radius:25px;
  margin-top:20px;
  font-weight:bold;
  cursor:pointer;
}

#ending{
  display:none;
  background:black;
  transition:opacity 3s ease;
}
</style>
</head>

<body>

<div id="opening">
  <h2>Before you press start‚Ä¶ ü§ç</h2>
  <button onclick="startShow()">Ready?</button>
</div>

<div id="main">
  <img id="photo">
  <div id="text"></div>
</div>

<div id="ending">
  <h1 style="opacity:0;" id="finalLine">
    Still with you.<br>Always.
  </h1>
  <button onclick="secret()" id="secretBtn" style="display:none;">
    One more thing‚Ä¶
  </button>
</div>

<audio id="music" src="lagu.mp3"></audio>

<script>
const photos=["foto1.jpg","foto2.jpg","foto3.jpg","foto4.jpg","foto5.jpg"];

const texts=[
`first,
terima kasih ya sayang sudah menemani setiap suka-duka kehidupan aku.
lewat hal-hal kecil yang bahkan aku sendiri nggak sadar,
ternyata selalu ada kamu di dalamnya.`,

`mungkin kelihatan nggak bermakna ya?
tapi serius‚Ä¶
hari ini bukan sekadar hari kasih sayang.
ini hari yang aku tunggu-tunggu
karena semesta pernah baik banget ngenalin aku ke kamu.`,

`aku ngerayain kesabaran kamu.
cara kamu stay even when things aren't easy.
cara kamu hadir tanpa banyak janji,
tapi selalu nyata.`,

`being with you taught me
that love doesn't have to be loud.
sometimes it's quiet.
warm.
and steady.
like you holding my hand without saying anything,
but somehow everything feels okay.`,

`so today, i celebrate you.
i celebrate us.
not just on valentine,
but on every ordinary day that turns special
just because you're there.

thank you for choosing me.
for staying.
for loving me in ways
i never knew i needed this much.`
];

let index=0;
let interval;

function startShow(){
  document.getElementById("opening").style.display="none";
  document.getElementById("main").style.display="block";
  fadeInMusic();
  showSlide();
  interval=setInterval(showSlide,16500); // ¬±83 detik total
}

function showSlide(){
  if(index>=photos.length){
    clearInterval(interval);
    fadeOutMusic();
    document.getElementById("main").style.display="none";
    showEnding();
    return;
  }

  const img=document.getElementById("photo");
  img.style.opacity=0;

  setTimeout(()=>{
    img.src=photos[index];
    img.style.transform="scale(1.08)";
    img.style.opacity=1;
    document.getElementById("text").innerText=texts[index];
    index++;
  },500);
}

function fadeInMusic(){
  const music=document.getElementById("music");
  music.volume=0;
  music.play().catch(()=>{});
  let fade=setInterval(()=>{
    if(music.volume<1){
      music.volume+=0.05;
    } else clearInterval(fade);
  },200);
}

function fadeOutMusic(){
  const music=document.getElementById("music");
  let fade=setInterval(()=>{
    if(music.volume>0){
      music.volume-=0.05;
    } else {
      music.pause();
      clearInterval(fade);
    }
  },200);
}

function showEnding(){
  const ending=document.getElementById("ending");
  ending.style.display="flex";

  setTimeout(()=>{
    document.getElementById("finalLine").style.opacity=1;
  },1500);

  setTimeout(()=>{
    document.getElementById("secretBtn").style.display="block";
  },4000);
}

function secret(){
  document.getElementById("ending").innerHTML=
  "<h1>Thank you for being my home ü§ç</h1>";
}
</script>

</body>
</html>
