<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"/>
<title>Valentine</title>

<style>
html,body{
  margin:0;
  padding:0;
  height:100%;
  background:#111;
  font-family:system-ui;
  overflow:hidden;
}

.app{
  position:relative;
  width:100vw;
  height:100vh;
  overflow:hidden;
}

canvas{
  position:absolute;
  inset:0;
  width:100%;
  height:100%;
}

.layer{
  position:absolute;
  inset:0;
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  text-align:center;
  color:#fff;
  padding:20px;
}

.bg{
  position:absolute;
  inset:0;
  background: radial-gradient(circle at 50% 20%, #ffe6f0, #e6a9c8 60%, #b983a6);
}

.circle{
  width:min(75vw,320px);
  height:min(75vw,320px);
  border-radius:50%;
  overflow:hidden;
  border:5px solid rgba(255,255,255,.7);
}

.circle img{
  width:100%;
  height:100%;
  object-fit:cover;
}

/* PANEL TEXT (DITAMBAHKAN AGAR MUNCUL DI HP) */
.panel{
  position:absolute;
  bottom:0;
  left:0;
  right:0;
  padding:18px;
  background:linear-gradient(transparent, rgba(0,0,0,.65));
  max-height:45vh;
  overflow-y:auto;
}

.text{
  font-size:15px;
  line-height:1.6;
  word-wrap:break-word;
  white-space:pre-wrap;
}

/* FLOWER */
.flower{
  position:relative;
  width:200px;
  height:200px;
}

.petal{
  position:absolute;
  width:60px;
  height:24px;
  border-radius:50%;
  background:linear-gradient(135deg,#ff9fc4,#ffd7ea);
  transform-origin:left center;
  transition:transform .5s ease;
}

.center{
  position:absolute;
  top:50%;left:50%;
  width:36px;height:36px;
  border-radius:50%;
  background:#ffe3a3;
  transform:translate(-50%,-50%);
}
</style>
</head>

<body>

<div class="app">
<div class="bg"></div>
<canvas id="fx"></canvas>

<div class="layer" id="opening">
  <h2>From me ‚Üí For you ü§ç</h2>
  <small>Tap layar untuk mulai</small>
</div>

<div class="layer" id="slide" style="display:none">
  <div class="circle">
    <img id="photo" src="foto1.jpg">
  </div>

  <div class="panel">
    <div id="typed" class="text"></div>
  </div>
</div>

<div class="layer" id="closing" style="display:none">
  <div id="flower" class="flower"></div>
  <h3>Still with you, always ü§ç</h3>
</div>

<audio id="music" src="lagu.mp3" loop playsinline muted></audio>
</div>

<script>
/* CANVAS */
const canvas=document.getElementById('fx');
const ctx=canvas.getContext('2d');

function resize(){
  canvas.width=window.innerWidth;
  canvas.height=window.innerHeight;
}
resize();
window.addEventListener('resize',resize);

const hearts=Array.from({length:25},()=>( {
  x:Math.random()*canvas.width,
  y:Math.random()*canvas.height,
  s:Math.random()*1+.5
}));

function draw(){
  ctx.clearRect(0,0,canvas.width,canvas.height);
  hearts.forEach(h=>{
    h.y-=h.s;
    if(h.y<0) h.y=canvas.height;
    ctx.beginPath();
    ctx.arc(h.x,h.y,3,0,Math.PI*2);
    ctx.fillStyle="#ffc2da";
    ctx.fill();
  });
  requestAnimationFrame(draw);
}
draw();

/* FOTO */
const photos=["foto1.jpg"];

/* ‚ù§Ô∏è TEKS PANJANG KAMU */
const texts=[`first, terima kasih ya sayang sudah menemani setiap suka-duka kehidupan aku. lewat hal-hal kecil yang bahkan aku sendiri ga sadar, contohnya kaya ada kamu didalamnya.

mungkin keliatan ga bermakna ya? tapi serius, hari ini bukan sekedar hari kasih sayang. tapi juga salah satu hari dimana aku udah ga sabar mau rayain hari ini, dimana aku ngerayain rasa syukur karena semesta pernah baik banget, ngenalin aku ke kamu.

aku ngerayain kesabaran kamu, cara kamu stay even when things aren't easy, dan cara kamu hadir tanpa banyak janji tapi selalu nyata.

being with you taught me that love doesn't have to be loud. sometimes it's quiet, warm, and steady like you holding my hand without saying anything, but somehow everything feels okay.

so today, i celebrate you. us. not just on valentine, but on every ordinary day that turns special just because you're there.

thank you for choosing me, for staying, and for being the love i never knew i needed this much.

still with you, always.

aku ada sedikit hadiah buat kamu ü§ç`];

const opening=document.getElementById('opening');
const slide=document.getElementById('slide');
const closing=document.getElementById('closing');
const photo=document.getElementById('photo');
const typed=document.getElementById('typed');
const music=document.getElementById('music');

function typeText(t){
 typed.textContent="";
 let k=0;
 const iv=setInterval(()=>{
   typed.textContent+=t[k++]||"";
   if(k>=t.length)clearInterval(iv);
 },15);
}

function next(){
 photo.src=photos[0];
 typeText(texts[0]);
}

/* FLOWER */
function buildFlower(){
 const f=document.getElementById('flower');
 for(let j=0;j<8;j++){
   const p=document.createElement('div');
   p.className="petal";
   const a=(360/8)*j;
   p.style.transform=`rotate(${a}deg) translateX(70px) scale(0)`;
   f.appendChild(p);
   setTimeout(()=>{
     p.style.transform=`rotate(${a}deg) translateX(70px) scale(1)`
   },j*120);
 }
 const c=document.createElement('div');
 c.className="center";
 f.appendChild(c);
}

window.addEventListener('click',()=>{
  music.muted=false;
  music.play().catch(()=>{});
  opening.style.display="none";
  slide.style.display="flex";
  next();
},{once:true});
</script>

</body>
</html>
